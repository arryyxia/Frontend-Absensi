import{_,f as x,o as t,g as a,F as k,E as w,e as r,w as b,d as e,aU as g,t as f,c as p,a as N,r as C,i as j,m as A,D as F,c7 as z,b as R,u as U}from"./index-QCxCtTKT.js";import{s as L}from"./index-HA7kDSS0.js";import{s as I}from"./index--As5xTm5.js";import"./index-cCG5cFl5.js";import"./index-8Ex0-ttK.js";const P={name:"UserBottomNav",inject:["default"],data(){return{menuItemsUser:[{label:"Dashboard",icon:"pi pi-home",route:"/user/dashboard"},{label:"Absen",icon:"pi pi-qrcode",route:"/user/qr-code"},{label:"Profile",icon:"pi pi-user",route:"/user/profile"}]}},methods:{},mounted(){}},q={class:"flex gap-4 items-center justify-around"},V={class:"font-medium"};function K(l,o,c,h,n,u){const i=x("RouterLink");return t(),a("div",q,[(t(!0),a(k,null,w(n.menuItemsUser,s=>(t(),a("div",{key:s.label},[r(i,{to:s.route,class:"mobile w-24 flex flex-col gap-2 items-center pt-3 px-4 border-t-4 border-t-white transition-all font-medium text-lg bg-white hover:border-t-4 hover:border-t-[#3B82F6] hover:text-[#3B82F6]"},{default:b(()=>[e("i",{class:g([s.icon,"text-2xl font-medium"])},null,2),e("h3",V,f(s.label),1)]),_:2},1032,["to"])]))),128))])}const O=_(P,[["render",K]]),E={name:"AdminBottomNav",inject:["default"],data(){return{menuItemsAdmin:[{label:"Dashboard",icon:"pi pi-home",route:"/admin/dashboard"},{label:"Absen",icon:"pi pi-qrcode",route:"/admin/qr-code"},{label:"Profile",icon:"pi pi-user",route:"/admin/profile"}]}},methods:{},mounted(){}},G={class:"flex gap-4 items-center justify-around"},Q={class:"font-medium"};function H(l,o,c,h,n,u){const i=x("RouterLink");return t(),a("div",G,[(t(!0),a(k,null,w(n.menuItemsAdmin,s=>(t(),a("div",{key:s.label},[r(i,{to:s.route,class:"mobile w-24 flex flex-col gap-2 items-center pt-3 px-4 border-t-4 border-t-white transition-all font-medium text-lg bg-white hover:border-t-4 hover:border-t-[#3B82F6] hover:text-[#3B82F6]"},{default:b(()=>[e("i",{class:g([s.icon,"text-2xl font-medium"])},null,2),e("h3",Q,f(s.label),1)]),_:2},1032,["to"])]))),128))])}const J=_(E,[["render",H]]),M={props:["dataRole"],data(){return{isLoading:!0,isAdmin:""}},methods:{async getAdmin(){this.isAdmin=this.dataRole,this.isLoading=!1}},mounted(){this.getAdmin()}},W={class:"shadow-md h-20 block lg:hidden fixed bg-white w-full bottom-0 z-50"};function X(l,o,c,h,n,u){const i=J,s=O;return t(),a("nav",W,[n.isAdmin?(t(),p(i,{key:0})):(t(),p(s,{key:1}))])}const Y=_(M,[["render",X]]),Z={name:"SkeletonBottomNav",data(){return{}},methods:{},mounted(){}},ee={class:"shadow-md h-20 block lg:hidden fixed bg-white w-full bottom-0 z-50"},te={class:"flex gap-4 items-center justify-around h-full"};function oe(l,o,c,h,n,u){const i=L;return t(),a("div",ee,[e("div",te,[(t(),a(k,null,w(3,s=>e("div",{key:s,class:"flex flex-col gap-2 items-center justify-center"},[r(i,{height:"3rem",width:"3rem"}),r(i,{height:"0.5rem",width:"5rem"})])),64))])])}const se=_(Z,[["render",oe]]),$="/assets/app-logo-uVsxivoF.png",ne={emits:["toggleSidebar"],props:["dataRole","dataUser"],data(){return{isLoading:!0,username:"",jabatan:"",pegawai:[],dropdownOpen:!0,token:localStorage.getItem("token"),userItems:[{label:"Profile",icon:"pi pi-user",route:"/user/profile"},{label:"Settings",icon:"pi pi-cog",route:"/user/settings"},{separator:!0},{label:"Logout",icon:"pi pi-sign-out",command:()=>{this.logout(),this.$router.push("/login")}}],adminItems:[{label:"Profile",icon:"pi pi-user",route:"/admin/profile"},{label:"Settings",icon:"pi pi-cog",route:"/admin/settings"},{separator:!0},{label:"Logout",icon:"pi pi-sign-out",command:()=>{this.logout(),this.$router.push("/login")}}]}},methods:{async getUser(){const l=this.dataUser.data.pegawai;this.isLoading=!1,l===null?(this.username="Admin",this.jabatan="HRD"):(this.pegawai=l,this.username=l.nama_lengkap,this.jabatan=l.jabatan),this.isLoading=!1},toggleDropdown(l){this.$refs.menu.toggle(l),this.dropdownOpen=!this.dropdownOpen},logout(){N.post("/logout",{}).then(l=>{console.log(l),localStorage.removeItem("token"),localStorage.removeItem("is_admin"),this.$toast.add({severity:"success",summary:"Logout Berhasil",detail:"Sukses melakukan logout",life:5e3}),C.push({name:"login"})}).catch(l=>{console.log(l),console.log(this.token),this.$toast.add({severity:"error",summary:"Logout gagal",detail:"Gagal melakukan logout",life:5e3})})}},async mounted(){await this.getUser()}},ae={class:"sticky top-0 z-40 flex w-full bg-white drop-shadow-1 shadow-md text-def"},le={class:"flex flex-grow items-center justify-between lg:justify-end px-4 py-4 shadow-2 md:px-6 2xl:px-11"},ie={class:"flex items-center gap-2 sm:gap-4 lg:hidden"},re={class:"flex items-center gap-3"},de={class:"relative"},ce={key:0,class:"flex flex-col items-end gap-1"},ue={key:1,class:"text-right sm:block"},me={class:"block text-sm font-medium text-black"},pe={class:"block text-xs font-medium"},ge=["href","onClick"],_e={class:"ml-2"},he=["href","target"],fe={class:"ml-2"},be={key:0,class:"pi pi-angle-right ml-auto"};function xe(l,o,c,h,n,u){const i=x("RouterLink"),s=L,d=x("router-link"),v=I,y=z;return t(),a("header",ae,[e("div",le,[e("div",ie,[e("button",{class:"z-50 flex rounded-sm border border-stroke bg-white p-1 shadow-sm w-12 h-12 items-center justify-center lg:hidden",onClick:o[0]||(o[0]=m=>l.$emit("toggleSidebar"))},o[2]||(o[2]=[e("i",{class:"pi pi-bars text-2xl"},null,-1)])),r(i,{class:"block flex-shrink-0 lg:hidden icon-nav",to:"/dashboard"},{default:b(()=>o[3]||(o[3]=[e("img",{src:$,alt:"Logo",class:"w-12 h-12"},null,-1)])),_:1})]),e("div",re,[e("div",de,[e("button",{class:"flex items-center gap-4",onClick:o[1]||(o[1]=(...m)=>u.toggleDropdown&&u.toggleDropdown(...m)),"aria-haspopup":"true","aria-controls":"overlay_tmenu"},[n.isLoading?(t(),a("span",ce,[r(s,{height:"1rem",width:"7rem"}),r(s,{height:"0.8rem",width:"5rem"})])):(t(),a("span",ue,[e("span",me,f(n.username),1),e("span",pe,f(n.jabatan),1)])),o[4]||(o[4]=e("span",{class:"h-12 w-12 rounded-full"},[e("img",{src:$,alt:"nama-user",class:"rounded-full"})],-1)),e("i",{class:g([{"rotate-180":n.dropdownOpen},"hidden fill-current sm:block transition-all ease-in-out pi pi-angle-down"])},null,2)]),r(v,{ref:"menu",id:"overlay_tmenu",model:c.dataRole==1?n.adminItems:n.userItems,popup:""},{item:b(({item:m,props:S,hasSubmenu:T})=>[m.route?(t(),p(d,{key:0,to:m.route,custom:""},{default:b(({href:B,navigate:D})=>[j((t(),a("a",A({href:B},S.action,{onClick:D}),[e("span",{class:g(m.icon)},null,2),e("span",_e,f(m.label),1)],16,ge)),[[y]])]),_:2},1032,["to"])):j((t(),a("a",A({key:1,href:m.url,target:m.target},S.action),[e("span",{class:g(m.icon)},null,2),e("span",fe,f(m.label),1),T?(t(),a("span",be)):F("",!0)],16,he)),[[y]])]),_:1},8,["model"])])])])])}const ke=_(ne,[["render",xe]]),we={name:"SkeletonNavbar",data(){return{}},methods:{},mounted(){}},ve={class:"sticky top-0 z-40 flex w-full bg-white drop-shadow-1 shadow-md text-def"},$e={class:"flex flex-grow items-center justify-between lg:justify-end px-4 py-4 shadow-2 md:px-6 2xl:px-11"},ye={class:"flex items-center gap-2 sm:gap-4 lg:hidden"},Se={class:"flex items-center gap-3"},Re={class:"relative"},Le={class:"flex items-center gap-4","aria-haspopup":"true","aria-controls":"overlay_tmenu"},je={class:"flex flex-col items-end gap-1"};function Ae(l,o,c,h,n,u){const i=x("RouterLink"),s=L;return t(),a("header",ve,[e("div",$e,[e("div",ye,[o[1]||(o[1]=e("button",{class:"z-50 flex rounded-sm border border-stroke bg-white p-1 shadow-sm w-12 h-12 items-center justify-center lg:hidden"},[e("i",{class:"pi pi-bars text-2xl"})],-1)),r(i,{class:"block flex-shrink-0 lg:hidden icon-nav",to:"/dashboard"},{default:b(()=>o[0]||(o[0]=[e("img",{src:$,alt:"Logo",class:"w-12 h-12"},null,-1)])),_:1})]),e("div",Se,[e("div",Re,[e("button",Le,[e("span",je,[r(s,{height:"1rem",width:"7rem"}),r(s,{height:"0.8rem",width:"5rem"})]),o[2]||(o[2]=e("span",{class:"h-12 w-12 rounded-full"},[e("img",{src:$,alt:"nama-user",class:"rounded-full"})],-1)),o[3]||(o[3]=e("i",{class:"hidden fill-current sm:block transition-all ease-in-out pi pi-angle-down"},null,-1))])])])])])}const Ue=_(we,[["render",Ae]]),Te={name:"UserSidebar",inject:["default"],data(){return{sidebarItemsUser:[{label:"User",items:[{label:"Dashboard",icon:"pi pi-home",route:"/user/dashboard"},{label:"QR CODE",icon:"pi pi-qrcode",route:"/user/qr-code"},{label:"Shift Kerja",icon:"pi pi-briefcase",route:"/user/shift-kerja"},{label:"Gaji",icon:"pi pi-wallet",route:"/user/gaji"}]}]}},methods:{},mounted(){}},Be={class:"mt-5 px-4 lg:mt-9 lg:px-6"},De={class:"mb-4 ml-4 text-sm font-medium"},Ne={class:"mb-6 flex flex-col gap-1"};function Ce(l,o,c,h,n,u){const i=x("RouterLink");return t(),a("nav",Be,[(t(!0),a(k,null,w(n.sidebarItemsUser,s=>(t(),a("div",{key:s.label},[e("h3",De,f(s.label),1),e("ul",Ne,[(t(!0),a(k,null,w(s.items,d=>(t(),a("li",{key:d.label},[r(i,{class:"group relative flex items-center gap-2 rounded-sm px-4 py-2 font-medium duration-300 ease-in-out menu",to:d.route},{default:b(()=>[e("i",{class:g(["text-lg",d.icon])},null,2),R(" "+f(d.label),1)]),_:2},1032,["to"])]))),128))])]))),128))])}const Fe=_(Te,[["render",Ce]]),ze={name:"AdminSidebar",inject:["default"],data(){return{sidebarItemsAdmin:[{label:"Home",items:[{label:"Dashboard",icon:"pi pi-home",route:"/admin/dashboard"}]},{label:"Kehadiran",items:[{label:"Konfirmasi Absensi",icon:"pi pi-check-square",route:"/admin/kehadiran/absensi"},{label:"Jadwal",icon:"pi pi-calendar-clock",route:"/admin/kehadiran/jadwal"}]},{label:"Perusahaan",items:[{label:"Pegawai",icon:"pi pi-users",route:"/admin/perusahaan/pegawai"},{label:"Gaji",icon:"pi pi-wallet",route:"/admin/perusahaan/gaji"},{label:"Payroll",icon:"pi pi-credit-card",route:"/admin/perusahaan/payroll"}]},{label:"Kerjaan",items:[{label:"Workspaces",icon:"pi pi-briefcase",route:"/admin/kerjaan/workspaces"},{label:"Kanban",icon:"pi pi-list",route:"/admin/kerjaan/kanban"}]}]}},methods:{},mounted(){}},Ie={class:"mt-5 px-4 lg:mt-9 lg:px-6"},Pe={class:"mb-4 ml-4 text-sm font-medium"},qe={class:"mb-6 flex flex-col gap-1"};function Ve(l,o,c,h,n,u){const i=x("RouterLink");return t(),a("nav",Ie,[(t(!0),a(k,null,w(n.sidebarItemsAdmin,s=>(t(),a("div",{key:s.label},[e("h3",Pe,f(s.label),1),e("ul",qe,[(t(!0),a(k,null,w(s.items,d=>(t(),a("li",{key:d.label},[r(i,{class:"group relative flex items-center gap-2 rounded-sm px-4 py-2 font-medium duration-300 ease-in-out menu",to:d.route},{default:b(()=>[e("i",{class:g(["text-lg",d.icon])},null,2),R(" "+f(d.label),1)]),_:2},1032,["to"])]))),128))])]))),128))])}const Ke=_(ze,[["render",Ve]]),Oe={emits:["toggleSidebar"],props:{sidebarToggle:Boolean,dataRole:Number},data(){return{authStore:U(),linkDashboard:!0,isAdmin:0}},methods:{toggleSidebar(){this.$emit("toggleSidebar")},async getAdmin(){this.dataRole!==null?this.isAdmin=this.dataRole:console.warn("Data role not yet available.")}},async mounted(){await this.getAdmin()}},Ee={class:"flex items-center justify-between gap-2 px-6 py-5 lg:py-6"},Ge={class:"flex flex-col overflow-y-auto duration-300 ease-linear"};function Qe(l,o,c,h,n,u){const i=x("RouterLink"),s=Ke,d=Fe;return t(),a("aside",{class:g([c.sidebarToggle?"translate-x-0":"-translate-x-full","absolute left-0 top-0 z-50 flex h-screen flex-col overflow-y-hidden bg-white duration-300 ease-linear lg:static lg:translate-x-0 w-72 shadow-md text-def"])},[e("div",Ee,[r(i,{to:n.isAdmin?"/admin/dashboard":"/user/dashboard",class:"flex gap-2 items-center font-semibold text-xl icon-nav"},{default:b(()=>o[1]||(o[1]=[e("img",{src:$,alt:"Logo",class:"w-12"},null,-1),R(" Absensi Qr Code ")])),_:1},8,["to"]),e("button",{class:g(["block lg:hidden",{"lg:block":c.sidebarToggle}]),onClick:o[0]||(o[0]=v=>l.$emit("toggleSidebar"))},o[2]||(o[2]=[e("i",{class:"pi pi-arrow-left text-lg"},null,-1)]),2)]),e("div",Ge,[n.isAdmin===1?(t(),p(s,{key:0,class:"mt-5 px-4 lg:mt-9 lg:px-6"})):(t(),p(d,{key:1}))])],2)}const He=_(Oe,[["render",Qe]]),Je={name:"SkeletonSidebar",props:["sidebarToggle","isAdmin"],data(){return{}},methods:{},mounted(){}},Me={class:"flex items-center justify-between gap-2 px-6 py-5 lg:py-6"},We={class:"flex flex-col overflow-y-auto duration-300 ease-linear"},Xe={class:"mt-5 px-4 lg:mt-9 lg:px-6"},Ye={class:"mb-2 ml-4 text-sm font-medium"},Ze={class:"mb-6 flex flex-col gap-1"},et={class:"group relative flex items-center gap-2 rounded-sm px-4 py-2 duration-300 ease-in-out"};function tt(l,o,c,h,n,u){const i=x("RouterLink"),s=L;return t(),a("aside",{class:g([c.sidebarToggle?"translate-x-0":"-translate-x-full","absolute left-0 top-0 z-50 flex h-screen flex-col overflow-y-hidden bg-white duration-300 ease-linear lg:static lg:translate-x-0 w-72 shadow-md text-def"])},[e("div",Me,[r(i,{to:c.isAdmin?"/admin/dashboard":"/user/dashboard",class:"flex gap-2 items-center font-semibold text-xl icon-nav"},{default:b(()=>o[1]||(o[1]=[e("img",{src:$,alt:"Logo",class:"w-12"},null,-1),R(" Absensi Qr Code ")])),_:1},8,["to"]),e("button",{class:g(["block lg:hidden",{"lg:block":c.sidebarToggle}]),onClick:o[0]||(o[0]=d=>l.$emit("toggleSidebar"))},o[2]||(o[2]=[e("i",{class:"pi pi-arrow-left text-lg"},null,-1)]),2)]),e("div",We,[e("nav",Xe,[(t(),a(k,null,w(3,d=>e("div",{key:d},[e("h3",Ye,[r(s,{height:"1.5rem",width:"50%"})]),e("ul",Ze,[(t(),a(k,null,w(4,v=>e("li",{key:v},[e("div",et,[r(s,{shape:"circle",width:"2rem",height:"2rem"}),r(s,{height:"2rem",width:"80%"})])])),64))])])),64))])])],2)}const ot=_(Je,[["render",tt]]),st={name:"DashboardShell",inject:["default"],data(){return{sidebarToggle:!1,authStore:U(),dataUser:0,dataRole:0,isLoading:!0}},methods:{callback(){this.sidebarToggle=!this.sidebarToggle},async getUser(){await this.authStore.getUser(),this.dataUser=this.authStore.authUser,this.dataRole=this.authStore.userRole}},async mounted(){await this.getUser(),this.isLoading=!1}},nt={class:"flex h-screen overflow-hidden bg-[#F1F5F9]"},at={class:"relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden"};function lt(l,o,c,h,n,u){const i=ot,s=He,d=Ue,v=ke,y=x("RouterView"),m=se,S=Y;return t(),a("div",nt,[n.isLoading?(t(),p(i,{key:0,sidebarToggle:n.sidebarToggle,onToggleSidebar:u.callback},null,8,["sidebarToggle","onToggleSidebar"])):(t(),p(s,{key:1,sidebarToggle:n.sidebarToggle,onToggleSidebar:u.callback,dataRole:n.dataRole},null,8,["sidebarToggle","onToggleSidebar","dataRole"])),e("div",at,[n.isLoading?(t(),p(d,{key:0,onToggleSidebar:u.callback,dataRole:n.dataRole,dataUser:n.dataUser},null,8,["onToggleSidebar","dataRole","dataUser"])):(t(),p(v,{key:1,onToggleSidebar:u.callback,dataRole:n.dataRole,dataUser:n.dataUser},null,8,["onToggleSidebar","dataRole","dataUser"])),r(y),n.isLoading?(t(),p(m,{key:2})):(t(),p(S,{key:3,dataRole:n.dataRole},null,8,["dataRole"]))])])}const mt=_(st,[["render",lt]]);export{mt as default};
